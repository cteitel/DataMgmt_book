[["spatial.html", "21 An Introduction to Spatial Data in R 21.1 Objectives 21.2 Additional reading 21.3 Characteristics of spatial data 21.4 The sf package 21.5 Map projections and coordinate reference systems 21.6 Raster data and the terra package 21.7 Reading and writing: spatial data outside of R 21.8 Plotting spatial data using ggplot2", " 21 An Introduction to Spatial Data in R 21.1 Objectives Understand the structures of spatial data in R, including both vector (points, lines, polygons) and raster (gridded) data Be familiar with the core R packages for spatial data (sf, terra) Plot spatial data using ggplot2 Work with both geographic and projected coordinates in R 21.2 Additional reading Edzer Pebsma, and Roger Bivand. Spatial Data Science With Applications in R. Chapter 7.1: Package sf. Available: https://r-spatial.org/book/07-Introsf.html#sec-sfintro Claudia Engel. Using Spatial Data with R. https://cengel.github.io/R-spatial/ 21.3 Characteristics of spatial data For this lesson, I assume you have some working knowledge or experience working with spatial information. You might have collected waypoints while working in the field, plugged coordinates into Google Maps, or worked extensively with spatial data in a GIS. This lesson will not cover spatial analysis – that is a whole course in itself. Instead, the goal of this lesson is for you to be able to read, manipulate, and plot data that has a spatial component, focusing on points. Data with a spatial component is simply data that has coordinates associated with it. These data can be points (e.g., an organism’s location), lines (e.g., an animal’s movement trajectory), polygons (e.g., the boundaries of a study site). These three types of data are called vector data (also called feeatures). Here, vector means something different than it usually does in R; rather than a series of elements of the same type, it means that the data is defined by coordinate pairs: the pairs of coordinates that define points or vertices. Spatial data can also come in a raster, or gridded, format, in which case a region is divided into rectangles of the same size, each of which is associated with a value. We will mainly focus on vector data in this lesson. 21.4 The sf package The sf package is the primary R package for manipulating spatial data. “sf” stands for “simple features,” which is the structure for storing and accessing vector data through the package. At its core, you can think of an sf object as an extension of a data frame or tibble. It contains a column (similar to a list-column) with information about the features (or geometries). Here’s an example of a shapefile with points representing centroids (center points) of Georgia counties: library(tidyverse) library(sf) class(ga_counties_point) ## [1] &quot;sf&quot; &quot;data.frame&quot; This is an sf object and also a data frame. Looking at the first few rows of data: head(ga_counties_point) ## Simple feature collection with 6 features and 2 fields ## Geometry type: POINT ## Dimension: XY ## Bounding box: xmin: -84.49417 ymin: 31.03786 xmax: -81.44214 ymax: 34.88169 ## Geodetic CRS: WGS 84 ## NAME10 ShapeSTAre geometry ## 1 Lanier 5570179459 POINT (-83.06265 31.03786) ## 2 Bryan 12687699691 POINT (-81.44214 32.01314) ## 3 Appling 14289311301 POINT (-82.28893 31.74921) ## 4 Rabun 10506079754 POINT (-83.40222 34.88169) ## 5 Bleckley 6108732241 POINT (-83.32789 32.43442) ## 6 Fayette 5555769752 POINT (-84.49417 33.4139) You can see that there are columns giving us the name and area of each county, but also a geometry column that contains a series of features called POINT, each of which has an associated latitude and longitude. Similarly, a different object that contains polygons representing county boundaries looks like this: head(ga_counties_poly) ## Simple feature collection with 6 features and 2 fields ## Geometry type: MULTIPOLYGON ## Dimension: XY ## Bounding box: xmin: -84.62722 ymin: 30.84471 xmax: -81.13833 ymax: 35.00067 ## Geodetic CRS: WGS 84 ## NAME10 ShapeSTAre geometry ## 1 Lanier 5570179459 MULTIPOLYGON (((-83.0428 30... ## 2 Bryan 12687699691 MULTIPOLYGON (((-81.40496 3... ## 3 Appling 14289311301 MULTIPOLYGON (((-82.46585 3... ## 4 Rabun 10506079754 MULTIPOLYGON (((-83.61831 3... ## 5 Bleckley 6108732241 MULTIPOLYGON (((-83.30089 3... ## 6 Fayette 5555769752 MULTIPOLYGON (((-84.55744 3... Here, each feature contains many coordinates, each of which is a vertex of the polygon. In addition, printing the object to the screen tells us about some characteristics of the data, including its projection (see below), the types of geometries it contains (point, polygon, etc.), and its bounding box (the minimum and maximum X and Y coordinates). 21.5 Map projections and coordinate reference systems The globe is round but we make plots and measurements in two-dimensional space. Doing so inevitably creates some distortion in distance, area, and/or shape. For example, consider common some global map projections: 21.5.1 UTMs 21.6 Raster data and the terra package Raster data are much more compact than vector data. Instead of storing each rectangle as a series of vertices with associated information, rasters can store information about the grid (its starting point, cell size, dimensions, and a projection) and couple that with a matrix that contains data. This avoids needing to store the actual location of each individual cell; in doing so, you can have a raster that contains thousands or millions of cells but takes up much less space than an equivalent feature set. 21.7 Reading and writing: spatial data outside of R 21.8 Plotting spatial data using ggplot2 "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
